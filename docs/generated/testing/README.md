# –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∞—è –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Backend, Frontend) –∏ –≤—Å–µ —Ç–∏–ø—ã —Ç–µ—Å—Ç–æ–≤ (Unit, Integration, E2E, Smoke).

## üèóÔ∏è –¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Docker)

–î–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤ –æ—Ç —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- **–§–∞–π–ª**: `docker-compose.test.yml`
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
  - `test-db`: PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É `5433`
  - `test-redis`: Redis –Ω–∞ –ø–æ—Ä—Ç—É `6380`

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–æ–ª–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.

## üü¢ –ë—ç–∫–µ–Ω–¥ (`apps/api`)

### –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤
1. **Unit (–ú–æ–¥—É–ª—å–Ω—ã–µ)**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ Domain Layer (Entities, Aggregates, Value Objects). 
   - –ó–∞–ø—É—Å–∫: `pnpm test:unit`
2. **E2E (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ)**: –ü—Ä–æ–≤–µ—Ä–∫–∞ API-–µ–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∞–ª—å–Ω–æ–π —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î.
   - –ó–∞–ø—É—Å–∫: `pnpm test:e2e`
3. **Smoke (–î—ã–º–æ–≤—ã–µ)**: –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (Health, Swagger).
   - –ó–∞–ø—É—Å–∫: `pnpm test:smoke`

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **–ê–≤—Ç–æ-–º–∏–≥—Ä–∞—Ü–∏–∏**: –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º E2E —Ç–µ—Å—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–∏ Prisma –∫ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î (`test/setup.ts`).
- **–£—Ç–∏–ª–∏—Ç—ã**: –í `test/test-utils.ts` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ö–µ–ª–ø–µ—Ä—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
- **–û–∫—Ä—É–∂–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `test.env` –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

## üîµ –§—Ä–æ–Ω—Ç–µ–Ω–¥ (`apps/web`)

### –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤
1. **Unit/Component**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Ö—É–∫–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Vitest** –∏ **React Testing Library**.
   - –ó–∞–ø—É—Å–∫: `pnpm test`
2. **E2E**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Playwright**.
   - –ó–∞–ø—É—Å–∫: `pnpm e2e`

## üöÄ –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞ (Root)

–í –∫–æ—Ä–Ω–µ–≤–æ–º `package.json` –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `pnpm test:infra:up` | –ü–æ–¥–Ω—è—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ Docker |
| `pnpm test:infra:down` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É |
| `pnpm test:api` | –ó–∞–ø—É—Å—Ç–∏—Ç—å Unit-—Ç–µ—Å—Ç—ã –±—ç–∫–µ–Ω–¥–∞ |
| `pnpm test:api:e2e` | –ó–∞–ø—É—Å—Ç–∏—Ç—å E2E-—Ç–µ—Å—Ç—ã –±—ç–∫–µ–Ω–¥–∞ |
| `pnpm test:web` | –ó–∞–ø—É—Å—Ç–∏—Ç—å Unit-—Ç–µ—Å—Ç—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ |
| `pnpm test:web:e2e` | –ó–∞–ø—É—Å—Ç–∏—Ç—å E2E-—Ç–µ—Å—Ç—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ |
| `pnpm test:full` | **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª**: Docker UP -> –í—Å–µ —Ç–µ—Å—Ç—ã -> Docker DOWN |

## üõ†Ô∏è –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ò–∑–æ–ª—è—Ü–∏—è**: –¢–µ—Å—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `clearDatabase()` –∏–∑ `test-utils.ts`.
2. **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `prisma/test-seed.ts` –¥–ª—è –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã –±–∞–∑–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (—Ä–æ–ª–∏, —Ç–µ–º—ã).
3. **Clean Architecture**: 
   - –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ Domain Layer –±–µ–∑ –º–æ–∫–æ–≤.
   - –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ Application Layer —Å –º–æ–∫–∞–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.
   - –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ Infrastructure Layer —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã.

## üîê –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

–î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Ç–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- **Email**: `test@psychology.test`
- **Password**: `password123`
- **–†–æ–ª—å**: `client` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
