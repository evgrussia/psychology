# Техническая спецификация фичи (Tech Spec)

**Проект:** «Эмоциональный баланс»  
**Версия спеки:** v0.1 (draft)  
**Автор:** Cursor Agent  
**Дата:** 2026-01-07  
**Статус:** draft  

**Feature ID:** `FEAT-INT-11`  
**Epic:** `EPIC-03`  
**Приоритет:** P1  
**Трекер:** —  

**Оценка реализации агентом Cursor:** ~240k токенов (≤ 270k, близко к лимиту → slices)

---

## 1) Summary
Визуальный редактор структуры NAV (drag&drop) в админке: добавление/удаление шагов, настройка переходов, валидация графа, превью.

### Ссылки
- Technical decisions: `docs/Technical-Decisions.md` (визуальный редактор — P1)
- Admin spec: `docs/Admin-Panel-Specification.md` (4.5.3)

---

## 2) Goals
- UI на ReactFlow (или аналог) + сохранение definition JSON,
- валидация: нет “висящих” ссылок, достижимость финала, отсутствие циклов (если запрещаем),
- версии/публикация.

---

## Appendix: slices
1. **A (~90k):** визуализация существующей структуры (read-only) + валидатор.
2. **B (~90k):** редактирование связей + добавление шагов.
3. **C (~60k):** версии + diff + безопасная публикация.

