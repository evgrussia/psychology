# Протокол реагирования на инциденты

Документ определяет порядок действий при обнаружении критических сбоев в работе сервиса «Эмоциональный баланс».

## Классификация инцидентов

| Уровень | Описание | Пример | RTO |
|---------|----------|--------|-----|
| **SEV-1** | Критический сбой, сервис полностью недоступен для всех или многих пользователей. | Down сервера, утечка данных, невозможность оплаты. | 1 час |
| **SEV-2** | Частичная потеря функциональности P0 фич. | Не работает запись на консультации, не открываются дневники. | 4 часа |
| **SEV-3** | Минорные баги, не блокирующие основной процесс. | Ошибки в верстке, опечатки, проблемы с аналитикой. | 24 часа |

## Алгоритм действий (SEV-1 / SEV-2)

1.  **Обнаружение и подтверждение**: 
    *   Получение алерта из Prometheus/Alertmanager.
    *   Или массовые жалобы пользователей в поддержку.
2.  **Создание инцидента**:
    *   Создать канал в Slack `#inc-YYYYMMDD-description`.
    *   Назначить Incident Commander (IC) — обычно дежурный инженер.
3.  **Оповещение**:
    *   Уведомить команду в Slack.
    *   Обновить статусную страницу (Status Page) для пользователей.
4.  **Локализация и исправление**:
    *   Анализ логов и метрик.
    *   Применение Rollback (отката), если проблема вызвана недавним деплоем.
    *   Применение "горячего" исправления (hotfix).
5.  **Восстановление**:
    *   Проверка работоспособности через Smoke Tests.
    *   Снятие ограничений для пользователей.
6.  **Post-mortem**:
    *   В течение 24 часов после закрытия инцидента подготовить отчет о причинах и мерах по предотвращению (Blameless Post-mortem).

## Матрица эскалации

1.  **L1 Support**: Первичный прием, базовая диагностика по Runbooks.
2.  **L2 (DevOps/Backend)**: Если проблема не решается по инструкции.
3.  **CTO / Product Owner**: Если инцидент уровня SEV-1 не решен в течение 30 минут.

---
*Документ создан: Content Agent*
---
