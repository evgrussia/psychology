# Модель данных (Data Model Overview)

Краткий обзор основных сущностей системы для понимания логики работы.

## Основные сущности (Entities)

### User (Пользователь)
- Хранит базовые данные: email, хеш пароля, статус активности.
- Имеет связь с `TelegramProfile`.

### Appointment (Встреча)
- Центральный объект процесса записи.
- Статусы: `SCHEDULED` (Запланирована), `COMPLETED` (Завершена), `CANCELLED` (Отменена).
- Связан с `User`, `Service` и `Payment`.

### Payment (Платёж)
- Содержит ID транзакции в ЮKassa, сумму и статус (`PENDING`, `SUCCEEDED`, `FAILED`).

### InteractiveModule (Интерактивный модуль)
- Шаблон для квизов, тестов и навигаторов.
- Результаты прохождений сохраняются в `UserActivityLog` (без детальных PII, если это не требуется).

### DiaryEntry (Запись в дневнике)
- Приватные заметки пользователя. Хранятся в зашифрованном виде.

## Архитектурный подход
Мы используем **Clean Architecture** и **DDD**. Это значит, что бизнес-логика отделена от базы данных и внешних API. Если вы видите ошибку в слое `domain` — это ошибка в правилах бизнеса, если в `infrastructure` — это техническая проблема связи или хранения.

---
*Документ создан: Content Agent*
---
