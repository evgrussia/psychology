import React from 'react';
import { QuizClient } from './QuizClient';
import { notFound } from 'next/navigation';

// Данные квизов (в реальном приложении могут приходить из API)
const QUIZZES = {
  anxiety: {
    id: '11111111-1111-1111-1111-111111111111',
    slug: 'anxiety',
    title: 'Тест на тревогу (GAD-7)',
    description: 'Оцените уровень своего беспокойства за последние 2 недели.',
    questions: [
      'Чувство тревоги, беспокойства или напряжения?',
      'Неспособность прекратить или контролировать беспокойство?',
      'Чрезмерное беспокойство по разным поводам?',
      'Трудности с расслаблением?',
      'Настолько сильное беспокойство, что трудно усидеть на месте?',
      'Легкая раздражительность или досада?',
      'Чувство страха, будто может случиться что-то ужасное?'
    ],
    options: [
      { label: 'Совсем нет', value: 0 },
      { label: 'Несколько дней', value: 1 },
      { label: 'Больше половины дней', value: 2 },
      { label: 'Почти каждый день', value: 3 }
    ],
    results: {
      low: {
        title: 'Низкий уровень тревоги',
        description: 'Ваши показатели в пределах нормы. Небольшое беспокойство — естественная часть жизни.',
        steps: [
          { title: 'Поддерживайте баланс', items: ['Соблюдайте режим сна', 'Практикуйте прогулки на свежем воздухе'] }
        ]
      },
      moderate: {
        title: 'Умеренный уровень тревоги',
        description: 'Похоже, в последнее время вы испытываете ощутимое напряжение.',
        steps: [
          { title: 'Техники заземления', items: ['Дыхание 4-7-8', 'Упражнение 5-4-3-2-1'] },
          { title: 'Рекомендация', items: ['Обратите внимание на источники стресса', 'Попробуйте мини-ритуалы расслабления'] }
        ]
      },
      high: {
        title: 'Высокий уровень тревоги',
        description: 'Ваш уровень тревоги требует внимания и бережного отношения к себе.',
        steps: [
          { title: 'Срочные меры', items: ['Снизьте нагрузку', 'Поговорите с кем-то, кому доверяете'] },
          { title: 'Профессиональная поддержка', items: ['Рекомендуем проконсультироваться с психологом'] }
        ]
      }
    }
  },
  burnout: {
    id: '22222222-2222-2222-2222-222222222222',
    slug: 'burnout',
    title: 'Проверка выгорания',
    description: 'Оцените риск эмоционального истощения.',
    questions: [
      'Чувствуете ли вы себя эмоционально опустошенным после работы?',
      'Трудно ли вам приступать к делам по утрам?',
      'Чувствуете ли вы, что ваша работа стала менее значимой?'
    ],
    options: [
      { label: 'Никогда', value: 0 },
      { label: 'Редко', value: 1 },
      { label: 'Часто', value: 2 },
      { label: 'Всегда', value: 3 }
    ],
    results: {
      low: {
        title: 'Риск выгорания минимален',
        description: 'Вы хорошо справляетесь с нагрузкой.',
        steps: [{ title: 'Профилактика', items: ['Продолжайте соблюдать границы работы и отдыха'] }]
      },
      moderate: {
        title: 'Есть признаки выгорания',
        description: 'Вам нужен качественный отдых и пересмотр приоритетов.',
        steps: [{ title: 'Первые шаги', items: ['Возьмите небольшую паузу', 'Делегируйте задачи'] }]
      },
      high: {
        title: 'Высокий риск выгорания',
        description: 'Вы находитесь в состоянии сильного истощения.',
        steps: [{ title: 'Важно', items: ['Длительный отдых', 'Работа с психологом'] }]
      }
    }
  }
};

export default function QuizPage({ params }: { params: { slug: string } }) {
  const quiz = QUIZZES[params.slug as keyof typeof QUIZZES];
  
  if (!quiz) {
    notFound();
  }

  return (
    <div className="min-h-screen bg-slate-50/30 py-12 px-4">
      <div className="max-w-3xl mx-auto">
        <QuizClient quiz={quiz} />
      </div>
    </div>
  );
}
