# Production Environment Variables
# Скопируйте этот файл в .env.prod и заполните значения

# ============================================
# ОБЩИЕ НАСТРОЙКИ
# ============================================
NODE_ENV=production

# ============================================
# БАЗА ДАННЫХ PostgreSQL
# ============================================
DB_USER=psychology_user
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
DB_NAME=psychology_prod

# Строка подключения для Prisma (формируется автоматически в docker-compose)
# DATABASE_URL будет: postgresql://${DB_USER}:${DB_PASSWORD}@db:5432/${DB_NAME}?schema=public

# ============================================
# REDIS
# ============================================
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD_HERE
# REDIS_URL будет: redis://:${REDIS_PASSWORD}@redis:6379

# ============================================
# БЕЗОПАСНОСТЬ
# ============================================
# Генерируйте сильные случайные строки длиной 64+ символов
# Можно использовать: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_JWT_SECRET_HERE
SESSION_SECRET=CHANGE_ME_SESSION_SECRET_HERE
ENCRYPTION_KEY_ID=key_v1
# 32 байта в base64 (например: openssl rand -base64 32)
ENCRYPTION_KEY=CHANGE_ME_ENCRYPTION_KEY_BASE64

# ============================================
# API НАСТРОЙКИ
# ============================================
# URL для доступа к API
API_URL=https://api.balance-space.ru

# HTTP таймауты и повторы
HTTP_TIMEOUT_MS=30000
HTTP_RETRY_ATTEMPTS=3

# ============================================
# МЕДИА ФАЙЛЫ
# ============================================
MEDIA_STORAGE_PATH=/app/media
MEDIA_PUBLIC_URL_BASE=https://balance-space.ru/media
MEDIA_UPLOAD_ENABLED=true

# ============================================
# FRONTEND (WEB)
# ============================================
SITE_URL=https://balance-space.ru
NEXT_PUBLIC_API_URL=https://balance-space.ru/api
NEXT_PUBLIC_SITE_URL=https://balance-space.ru

# ============================================
# FRONTEND (ADMIN)
# ============================================
ADMIN_URL=https://admin.balance-space.ru
NEXT_PUBLIC_ADMIN_URL=https://admin.balance-space.ru

# ============================================
# ОПЦИОНАЛЬНЫЕ ИНТЕГРАЦИИ
# ============================================
# Google Calendar OAuth
# GOOGLE_OAUTH_CLIENT_ID=your_google_client_id
# GOOGLE_OAUTH_CLIENT_SECRET=your_google_client_secret
# GOOGLE_OAUTH_REDIRECT_URI=https://api.balance-space.ru/api/admin/integrations/google-calendar/callback
# GOOGLE_OAUTH_SCOPES="https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/calendar.events"
# GOOGLE_CALENDAR_SYNC_INTERVAL_MINUTES=15
# GOOGLE_CALENDAR_SYNC_LOOKAHEAD_DAYS=30

# Telegram Bot (если используется)
# TELEGRAM_BOT_TOKEN=your_bot_token_here
# TELEGRAM_WEBHOOK_URL=https://balance-space.ru/api/telegram/webhook
# TELEGRAM_REMINDER_DELAY_HOURS=24
# TELEGRAM_SERIES_STEP_DELAY_HOURS=24
# TELEGRAM_SCHEDULE_INTERVAL_MS=60000
# TELEGRAM_SCHEDULE_BATCH_LIMIT=50

# Аналитика и мониторинг
# SENTRY_DSN=your_sentry_dsn_here
# GOOGLE_ANALYTICS_ID=your_ga_id_here
# ALERTS_ENABLED=true
# ALERT_EMAIL_TO=ops@balance-space.ru
# ALERT_MIN_INTERVAL_MINUTES=15
# ERROR_RATE_WINDOW_MINUTES=5
# ERROR_RATE_THRESHOLD=0.1
# ERROR_RATE_MIN_SAMPLES=50

# Email (если используется)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=noreply@balance-space.ru
# SMTP_PASSWORD=your_smtp_password_here
# EMAIL_FROM=noreply@balance-space.ru

# ============================================
# РЕЗЕРВНОЕ КОПИРОВАНИЕ
# ============================================
# Настройки для автоматического бэкапа БД
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=7
